<div class="btn-container">
  <app-go-back-button></app-go-back-button>
</div>

<div class="loader-bar" *ngIf="loadingCountry | async; else infoCountry">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>

<ng-template #infoCountry>
  <section *ngIf="country" class="country-container">
    <div class="flag">
      <img src="https://flagcdn.com/w640/{{ country.code2.toLocaleLowerCase() }}.png" />
    </div>

    <div class="info">
      <h2><b>{{ country.nameSpa }}</b></h2>

      <div class="info__details">
        <div class="info__details--1">
          <p><b>Nombre Nativo: </b>{{ country.nativeName }}</p>
          <p><b>Habitantes: </b>{{ country.population | number }}</p>
          <p><b>Área: </b>{{ country.area | number }} km<sup>2</sup></p>
          <p><b>Región: </b>{{ country.region | regionTraductor }}</p>
          <p><b>Capital: </b>{{ country.capital }}</p>
        </div>

        <br />

        <div class="info__details--2">
          <p><b>Zona Horaria: </b>{{ country.timezones[0] }}</p>
          <p><b>Salida al Mar: </b>{{ country.landlocked ? "No" : "Sí" }}</p>
          <p>
            <b>Ubicación: </b>
            <a mat-flat-button [href]="country.map" target="_blank" rel="noopener">Ver Mapa</a>
          </p>
        </div>
      </div>

      <br />

      <div class="info__border-countries">
        <mat-chip-list>
          <span class="borders-label"><b>Países Limítrofes:</b></span>

          <div *ngIf="loadingBorders | async; else borderNames" class="loader-dots"></div>

          <ng-template #borderNames>
            <span *ngIf="borders.length < 1">No posee</span>

            <mat-chip color="basic" *ngFor="let border of borders" routerLink="../{{ border.code3 }}">
              {{ border.nameSpa }}
            </mat-chip>
          </ng-template>
        </mat-chip-list>
      </div>
    </div>
  </section>
</ng-template>
